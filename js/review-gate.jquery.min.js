!function(e){e.fn.reviewGate=function(t){var a={stepClassName:"review-step",navbarColor:"#fff",navBarClassName:"review-gate-navbar",navBarBackBtnClassName:"review-gate-navbar__btn",enableNavBackBtn:!0,emojiConfig:{emoji:"star",fontSize:42,attributes:{id:"emoji-ratings-wrapper"},css:{}},onUpdate:function(){alert("Add an onUpdate function")}},n=e.extend(!0,{},a,t),i=Object.create(n.emojiConfig);i.onUpdate=n.onUpdate;var r=this,s=e("."+n.navBarClassName),o=e("."+n.navBarBackBtnClassName),c=function(t){var a=t||r.find(".current").attr("data-step");window.reviewGateSettings.currentStep=a,e("body").attr("data-current-step",a)},d={init:function(){var t,a;window.reviewGateSettings=n,s.fadeIn(),s.css("background-color",n.navbarColor),o.addClass("hide"),n.enableNavBackBtn&&o.click(function(){d.step(1)}),!(t=e("."+n.stepClassName)).hasClass("current")&&t.first().addClass("current"),t.each(function(t){e(this).attr("data-step",t+1)}),a=e("<div />").attr(n.emojiConfig.attributes).css(n.emojiConfig.css).appendTo(r.children()[0]),e.fn.emojiRating?a.emojiRating(i):e.getScript("./js/jquery.emojiRatings.min.js",function(){try{e.fn.emojiRating,a.emojiRating(i)}catch(e){throw new Error("emojiRating library is a required dependency")}}),c()},step:function(t){!function(t,a){e(".review-step.current").fadeOut(function(){e(".review-step.current").removeClass("current");var n=e(r).find("[data-step='".concat(t,"']"));n.fadeIn(400),n.addClass("current"),c(t),a()})}(t,function(){window.reviewGateSettings.enableNavBackBtn&&(window.reviewGateSettings.currentStep>1?o.removeClass("hide"):o.addClass("hide"))})}};return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist"),this):d.init.apply(this,arguments)}}(jQuery);