(function(){var C=Object.create;var w=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var F=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var U=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}};var E=function(t,n,f,s){if(n&&typeof n=="object"||typeof n=="function")for(var u=B(n),d=0,h=u.length,i;d<h;d++)i=u[d],!k.call(t,i)&&i!==f&&w(t,i,{get:function(p){return n[p]}.bind(null,i),enumerable:!(s=b(n,i))||s.enumerable});return t};var S=function(t,n,f){return f=t!=null?C(F(t)):{},E(n||!t||!t.__esModule?w(f,"default",{value:t,enumerable:!0}):f,t)};var y=U(function(){(function(t,n,f,s){"use strict";function u(e,r){this.element=e,this.settings=t.extend({},m,r),this._defaults=m,this._name=p,this.init()}function d(e){return g[e]}function h(e){return e.indexOf("U+")<0&&(e=d(e)),"&#x"+e.slice(2)+";"}var i,p="emojiRating",l=!1,m={emoji:"U+2B50",count:5,fontSize:16,inputName:"rating",onUpdate:null},g={smile:"U+1F603",wink:"U+1F609",laughing:"U+1F606",blush:"U+1F60A",heart_eyes:"U+1F60D",kissing_heart:"U+1F618",heart:"U+2764",heart_with_arrow:"U+1F498",broken_heart:"U+1F494",tongue_out_wink:"U+1F61C",tongue_out_eyes_closed:"U+1F61D",angry:"U+1F620",crying:"U+1F622",scream:"U+1F631",pray:"U+1F64F",poo:"U+1F4A9",star:"U+2B50",thinking:"U+1F914",hugging:"U+1F917"};t.extend(u.prototype,{init:function(){i=t(this.element),this.count=0,this.setupStyles(),this.renderEmojis(),this.handleClick(),this.handleHover()},setupStyles:function(){var e="cursor:pointer;opacity:0.2;text-decoration:none;",r="font-size:"+this.settings.fontSize+"px;",o=".jqEmoji{"+e+r+"}";i.append("<style>"+o+"</style>")},renderEmojis:function(){for(var e,r=h(this.settings.emoji),o=this.settings.count,c="<div class='jqEmoji-container'>",a=0;o>a;a++)e="<span class='jqEmoji' data-index='"+a+"'>"+r+"</span>",c+=e;c+="</div>",i.append(c)},clearEmojis:function(){i.find(".jqEmoji").each(function(){t(this).css("opacity",.2)})},colorEmojis:function(e){this.clearEmojis();for(var r=0;e>r;r++)i.find(".jqEmoji").eq(r).css("opacity",1)},handleClick:function(){var e=this;i.on("click",".jqEmoji",function(){var r=t(this).data("index"),o=parseInt(r,10)+1;e.colorEmojis(o),e.count=o,l?e.updateInput(o):(e.appendInput(o),l=!0),t.isFunction(e.settings.onUpdate)&&e.settings.onUpdate.call(e,o)})},handleHover:function(){var e=this;i.on({mouseenter:function(){var r=parseInt(t(this).data("index"),10)+1;l||e.colorEmojis(r)},mouseleave:function(){l||e.clearEmojis()}},".jqEmoji")},appendInput:function(e){var r=this.settings.inputName,o="<input type='hidden' class='emoji-rating'",c=o+" name='"+r+"' value='"+e+"' />";i.append(c)},updateInput:function(e){var r=i.find("input.emoji-rating");r.val(e)}}),t.fn[p]=function(e){return this.each(function(){t.data(this,"plugin_"+p)||t.data(this,"plugin_"+p,new u(this,e))})}})(jQuery,window,document)});var _=U(function(){var I=S(y());(function(t){t.fn.reviewGate=function(n){var f={stepClassName:"review-step",navbarColor:"#fff",navBarClassName:"review-gate-navbar",navBarBackBtnClassName:"review-gate-navbar__btn",enableNavBackBtn:!0,emojiConfig:{emoji:"star",fontSize:42,attributes:{id:"emoji-ratings-wrapper"},css:{}},onUpdate:function(){alert("Add an onUpdate function")}},s=t.extend(!0,{},f,n),u=Object.create(s.emojiConfig);u.onUpdate=s.onUpdate;var d=this,h=t("."+s.navBarClassName),i=t("."+s.navBarBackBtnClassName),p=function(){return d.find(".current").attr("data-step")},l=function(a){var v=a||p();window.reviewGateSettings.currentStep=v,t("body").attr("data-current-step",v)},m=function(){var a=window.reviewGateSettings.currentStep;a>1?i.removeClass("hide"):i.addClass("hide")},g=function(a,v){t(".review-step.current").fadeOut(function(){t(".review-step.current").removeClass("current");var j=t(d).find("[data-step='".concat(a,"']"));j.fadeIn(400),j.addClass("current"),l(a),v()})},e=function(){h.fadeIn(),h.css("background-color",s.navbarColor),i.addClass("hide"),s.enableNavBackBtn&&i.click(function(){c.step(1)})},r=function(){var a=t("."+s.stepClassName);!a.hasClass("current")&&a.first().addClass("current"),a.each(function(v){t(this).attr("data-step",v+1)})},o=function(){var a=t("<div />").attr(s.emojiConfig.attributes).css(s.emojiConfig.css).appendTo(d.children()[0]);t.fn.emojiRating?a.emojiRating(u):t.getScript("./js/jquery.emojiRatings.min.js",function(){try{t.fn.emojiRating,a.emojiRating(u)}catch(v){throw new Error("emojiRating library is a required dependency")}})},c={init:function(){window.reviewGateSettings=s,e(),r(),o(),l()},step:function(a){g(a,function(){window.reviewGateSettings.enableNavBackBtn&&m(a)})}};return c[n]?c[n].apply(this,Array.prototype.slice.call(arguments,1)):typeof n=="object"||!n?c.init.apply(this,arguments):(t.error("Method "+n+" does not exist"),this)}})(jQuery)});_();})();
